def solution(a, b, c, d):
    l = [a, b, c, d]
    c = [l.count(i) for i in l]

    if max(c) == 4:
        return 1111 * a

    elif max(c) == 3:
        return (10 * l[c.index(3)] + l[c.index(1)])**2

    elif max(c) == 2:
        if min(c) == 1:
            return eval('*'.join([str(l[i]) for i, x in enumerate(c) if x == 1]))
        else:
            return (max(l) + min(l)) * abs(max(l) - min(l))

    else:
        return min(l)
